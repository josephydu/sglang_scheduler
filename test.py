# payload = {
#     "model": "Qwen/Qwen2-7B",
#     "prompt": "can we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local machine for R studiocan we connect a virtual machine & files in our local",
#     "temperature": 0.0,
#     "best_of": 1,
#     "max_tokens": 806,
#     "stream": True,
#     "ignore_eos": True
# }
# api_url_server = 'http://127.0.0.1:25100/v1/completions'
# api_url_controller = 'http://127.0.0.1:23000/v1/completions'
# headers = {'Authorization': 'Bearer None'}

# import requests
# print("=============start controller request======================================")
# # 发送 POST 请求
# response = requests.post(api_url_controller, json=payload, headers=headers, stream=True)

# # 打印响应内容
# # 如果是流式响应，可以逐块读取
# if response.ok:
#     for chunk in response.iter_content(chunk_size=1024):
#         print(chunk.decode('utf-8'))
# else:
#     print("Failed to retrieve data:", response.status_code)
# print("=============start server request======================================")
# # print(requests.post(url=api_url_server, json=payload, headers=headers).content)


import requests

# 设置请求的 URL
url = "http://localhost:23000/v1/completions"

# 设置请求的 headers
headers = {
    "Content-Type": "application/json",
    "Authorization": "Bearer "  # 这里应该填入实际的 token
}

# 设置请求的 payload，即请求体中的数据
data = {
    "model": "text-davinci-003",
    "prompt": "Say this is a test",
    "temperature": 0,
    "max_tokens": 1000,
    "min_tokens": 300,
    "stream": True  # 注意这里的 True 是 Python 的布尔值，不是字符串
}

# 发送 POST 请求
response = requests.post(url, json=data, headers=headers)

# # 打印响应内容
# # 如果是流式响应，可以逐块读取
# if response.ok:
#     for chunk in response.iter_content(chunk_size=1024):
#         print(chunk.decode('utf-8'))
# else:
#     print("Failed to retrieve data:", response.status_code)